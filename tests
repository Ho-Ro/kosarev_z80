
# ADD HL, rp
19 add hl, de
 0 get_pc_on_fetch 0000
 0 fetch 19 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 get_l 00
 4 get_h 00
 4 get_e 00
 4 get_d 00
 4 get_f 00
 4 4t_ir_exec
 8 3t_ir_exec
11 set_memptr 0000 -> 0001
11 set_l 00 -> 00
11 set_h 00 -> 00
11 done

# ADC HL, rp
ed5a adc hl, de
 0 get_pc_on_fetch 0000
 0 fetch ed at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 ed_prefix
 4 get_pc_on_fetch 0001
 4 fetch 5a at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 get_l 00
 8 get_h 00
 8 get_e 00
 8 get_d 00
 8 get_f 00
 8 4t_ir_exec
12 3t_ir_exec
15 set_memptr 0000 -> 0001
15 set_l 00 -> 00
15 set_h 00 -> 00
15 set_f 00 -> 40
15 prefix_reset
15 done

# AND r
a7 and a
 0 get_pc_on_fetch 0000
 0 fetch a7 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 get_a 00
 4 get_a 00
 4 set_a 00 -> 00
 4 set_f 00 -> 54
 4 done

# CP r
bc cp h
 0 get_pc_on_fetch 0000
 0 fetch bc at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 get_h 00
 4 get_a 00
 4 set_f 00 -> 42
 4 done

# DEC r
35 dec (hl)
 0 get_pc_on_fetch 0000
 0 fetch 35 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 get_l 00
 4 get_h 00
 4 4t_read 35 at 0000
 8 get_f 00
 8 get_l 00
 8 get_h 00
 8 3t_write 35 -> 34 at 0000
11 set_f 00 -> 22
11 done

# DEC rp
2b dec hl
 0 get_pc_on_fetch 0000
 0 fetch 2b at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 6t_fetch
 6 get_l 00
 6 get_h 00
 6 set_l 00 -> ff
 6 set_h 00 -> ff
 6 done

# DI
f3 di
 0 get_pc_on_fetch 0000
 0 fetch f3 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 set_iff1_on_di 0 -> 0
 4 set_iff2_on_di 0 -> 0
 4 done

# EI
fb ei
 0 get_pc_on_fetch 0000
 0 fetch fb at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 set_iff1_on_ei 0 -> 1
 4 set_iff2_on_ei 0 -> 1
 4 disable_int
 4 done

# EX DE, HL
eb ex de, hl
 0 get_pc_on_fetch 0000
 0 fetch eb at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 done

# EXX
d9 exx
 0 get_pc_on_fetch 0000
 0 fetch d9 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 done

# IM n
ed56 im 1
 0 get_pc_on_fetch 0000
 0 fetch ed at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 ed_prefix
 4 get_pc_on_fetch 0001
 4 fetch 56 at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 set_int_mode 0 -> 1
 8 prefix_reset
 8 done

# INC r
04 inc b
 0 get_pc_on_fetch 0000
 0 fetch 04 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 get_b 00
 4 get_f 00
 4 set_b 00 -> 01
 4 set_f 00 -> 00
 4 done

# INC rp
23 inc hl
 0 get_pc_on_fetch 0000
 0 fetch 23 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 6t_fetch
 6 get_l 00
 6 get_h 00
 6 set_l 00 -> 01
 6 set_h 00 -> 00
 6 done

# JP nn
c3cdab jp 0xabcd
 0 get_pc_on_fetch 0000
 0 fetch c3 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 imm16_read abcd at 0001
 4 get_pc_on_imm16_read 0001
 4 3t_read cd at 0001
 7 3t_read ab at 0002
10 set_pc_on_imm16_read 0001 -> 0003
10 set_memptr 0000 -> abcd
10 set_pc_on_jump 0003 -> abcd
10 done

# JR cc, d
28fa jr z, $ - 4
 0 get_pc_on_fetch 0000
 0 fetch 28 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 disp_read fa at 0001
 4 get_pc_on_disp_read 0001
 4 3t_read fa at 0001
 7 set_pc_on_disp_read 0001 -> 0002
 7 get_f 00
 7 done

200a jr nz, $ + 12
 0 get_pc_on_fetch 0000
 0 fetch 20 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 disp_read 0a at 0001
 4 get_pc_on_disp_read 0001
 4 3t_read 0a at 0001
 7 set_pc_on_disp_read 0001 -> 0002
 7 get_f 00
 7 5t_pc_exec
12 get_pc_on_jump 0002
12 set_memptr 0000 -> 000c
12 set_pc_on_jump 0002 -> 000c
12 done

# LD r, r
47 ld b, a
 0 get_pc_on_fetch 0000
 0 fetch 47 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 get_a 00
 4 set_b 00 -> 00
 4 done

# LD r, n
3eaf ld a, 0xaf
 0 get_pc_on_fetch 0000
 0 fetch 3e at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 3t_imm8_read af at 0001
 4 get_pc_on_imm8_read 0001
 4 3t_read af at 0001
 7 set_pc_on_imm8_read 0001 -> 0002
 7 set_a 00 -> af
 7 done

3602 ld (hl), 0x02
 0 get_pc_on_fetch 0000
 0 fetch 36 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 3t_imm8_read 02 at 0001
 4 get_pc_on_imm8_read 0001
 4 3t_read 02 at 0001
 7 set_pc_on_imm8_read 0001 -> 0002
 7 get_l 00
 7 get_h 00
 7 3t_write 36 -> 02 at 0000
10 done

# LD I, A
ed47 ld i, a
 0 get_pc_on_fetch 0000
 0 fetch ed at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 ed_prefix
 4 get_pc_on_fetch 0001
 4 fetch 47 at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 5t_fetch
 9 get_a 00
 9 set_i 00 -> 00
 9 prefix_reset
 9 done

# LD rp, nn
115634 ld de, 0x3456
 0 get_pc_on_fetch 0000
 0 fetch 11 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 imm16_read 3456 at 0001
 4 get_pc_on_imm16_read 0001
 4 3t_read 56 at 0001
 7 3t_read 34 at 0002
10 set_pc_on_imm16_read 0001 -> 0003
10 set_e 00 -> 56
10 set_d 00 -> 34
10 done

fd213a5c ld iy, 0x5c3a
 0 get_pc_on_fetch 0000
 0 fetch fd at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 set_next_index_rp hl -> iy
 4 disable_int
 4 get_pc_on_fetch 0001
 4 fetch 21 at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 imm16_read 5c3a at 0002
 8 get_pc_on_imm16_read 0002
 8 3t_read 3a at 0002
11 3t_read 5c at 0003
14 set_pc_on_imm16_read 0002 -> 0004
14 set_iyl 00 -> 3a
14 set_iyh 00 -> 5c
14 done

# LD rp, (nn)
ed4bb45c ld bc, (0x5cb4)
 0 get_pc_on_fetch 0000
 0 fetch ed at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 ed_prefix
 4 get_pc_on_fetch 0001
 4 fetch 4b at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 imm16_read 5cb4 at 0002
 8 get_pc_on_imm16_read 0002
 8 3t_read b4 at 0002
11 3t_read 5c at 0003
14 set_pc_on_imm16_read 0002 -> 0004
14 3t_read 00 at 5cb4
17 set_memptr 0000 -> 5cb5
17 3t_read 00 at 5cb5
20 set_c 00 -> 00
20 set_b 00 -> 00
20 prefix_reset
20 done

# LD irp, (nn)
2ab25c ld hl, (0x5cb2)
 0 get_pc_on_fetch 0000
 0 fetch 2a at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 imm16_read 5cb2 at 0001
 4 get_pc_on_imm16_read 0001
 4 3t_read b2 at 0001
 7 3t_read 5c at 0002
10 set_pc_on_imm16_read 0001 -> 0003
10 3t_read 00 at 5cb2
13 set_memptr 0000 -> 5cb3
13 3t_read 00 at 5cb3
16 set_l 00 -> 00
16 set_h 00 -> 00
16 done

# LD (nn), A
328d5c ld (0x5c8d), a
 0 get_pc_on_fetch 0000
 0 fetch 32 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 imm16_read 5c8d at 0001
 4 get_pc_on_imm16_read 0001
 4 3t_read 8d at 0001
 7 3t_read 5c at 0002
10 set_pc_on_imm16_read 0001 -> 0003
10 get_a 00
10 set_memptr 0000 -> 008e
10 3t_write 00 -> 00 at 5c8d
13 done

# LD (nn), irp
227b5c ld (0x5c7b), hl
 0 get_pc_on_fetch 0000
 0 fetch 22 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 imm16_read 5c7b at 0001
 4 get_pc_on_imm16_read 0001
 4 3t_read 7b at 0001
 7 3t_read 5c at 0002
10 set_pc_on_imm16_read 0001 -> 0003
10 get_l 00
10 get_h 00
10 3t_write 00 -> 00 at 5c7b
13 set_memptr 0000 -> 5c7c
13 3t_write 00 -> 00 at 5c7c
16 done

# LD (nn), rp
ed43b45c ld (0x5cb4), bc
 0 get_pc_on_fetch 0000
 0 fetch ed at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 ed_prefix
 4 get_pc_on_fetch 0001
 4 fetch 43 at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 imm16_read 5cb4 at 0002
 8 get_pc_on_imm16_read 0002
 8 3t_read b4 at 0002
11 3t_read 5c at 0003
14 set_pc_on_imm16_read 0002 -> 0004
14 get_c 00
14 get_b 00
14 3t_write 00 -> 00 at 5cb4
17 set_memptr 0000 -> 5cb5
17 3t_write 00 -> 00 at 5cb5
20 prefix_reset
20 done

# LD SP, irp
f9 ld sp, hl
 0 get_pc_on_fetch 0000
 0 fetch f9 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 6t_fetch
 6 get_l 00
 6 get_h 00
 6 set_sp ffff -> 0000
 6 done

# Block transfers.
edb8 lddr
 0 get_pc_on_fetch 0000
 0 fetch ed at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 ed_prefix
 4 get_pc_on_fetch 0001
 4 fetch b8 at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 get_c 00
 8 get_b 00
 8 get_e 00
 8 get_d 00
 8 get_l 00
 8 get_h 00
 8 get_a 00
 8 get_f 00
 8 3t_read ed at 0000
11 5t_write ed -> ed at 0000
16 set_c 00 -> ff
16 set_b 00 -> ff
16 set_e 00 -> ff
16 set_d 00 -> ff
16 set_l 00 -> ff
16 set_h 00 -> ff
16 set_f 00 -> 0c
16 5t_de_exec
21 get_pc_on_block_instr 0002
21 set_memptr 0000 -> 0003
21 set_pc_on_block_instr 0002 -> 0000
21 prefix_reset
21 done

# NOP
00 nop
 0 get_pc_on_fetch 0000
 0 fetch 00 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 done

# OUT (n), r
d3ab out (0xab), a
 0 get_pc_on_fetch 0000
 0 fetch d3 at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 3t_imm8_read ab at 0001
 4 get_pc_on_imm8_read 0001
 4 3t_read ab at 0001
 7 set_pc_on_imm8_read 0001 -> 0002
 7 get_a 00
 7 output 00 at 00ab
11 set_memptr 0000 -> 00ac
11 done

# SBC HL, rp
ed52 sbc hl, de
 0 get_pc_on_fetch 0000
 0 fetch ed at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 ed_prefix
 4 get_pc_on_fetch 0001
 4 fetch 52 at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 get_l 00
 8 get_h 00
 8 get_e 00
 8 get_d 00
 8 get_f 00
 8 4t_ir_exec
12 3t_ir_exec
15 set_memptr 0000 -> 0001
15 set_l 00 -> 00
15 set_h 00 -> 00
15 set_f 00 -> 42
15 prefix_reset
15 done

# SET b, r
fdcb01ce set 1, (iy + 1)
 0 get_pc_on_fetch 0000
 0 fetch fd at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 set_next_index_rp hl -> iy
 4 disable_int
 4 get_pc_on_fetch 0001
 4 fetch cb at 0001
 8 set_pc_on_fetch 0001 -> 0002
 8 disp_read 01 at 0002
 8 get_pc_on_disp_read 0002
 8 3t_read 01 at 0002
11 set_pc_on_disp_read 0002 -> 0003
11 get_pc_on_fetch 0003
11 fetch ce at 0003
15 set_pc_on_fetch 0003 -> 0004
15 5t_fetch
16 get_iyl 00
16 get_iyh 00
16 4t_read cb at 0001
20 set_memptr 0000 -> 0001
20 get_iyl 00
20 get_iyh 00
20 3t_write cb -> cb at 0001
23 set_memptr 0001 -> 0001
23 prefix_reset
23 done

# XOR r
af xor a
 0 get_pc_on_fetch 0000
 0 fetch af at 0000
 4 set_pc_on_fetch 0000 -> 0001
 4 get_a 00
 4 get_a 00
 4 set_a 00 -> 00
 4 set_f 00 -> 44
 4 done
